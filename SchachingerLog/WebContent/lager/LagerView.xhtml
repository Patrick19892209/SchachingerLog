<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:p="http://primefaces.org/ui">


<h:head>
	<style type="text/css">
	
</style>

</h:head>

<h:body>
	<h:form id="form"> 
		<h2 class="first"></h2>
		<p:calendar value="#{storeView.deliveryDate}" pattern="MM/dd/yyyy" >
			<p:ajax event="dateSelect" listener="#{storeView.onDateSelect}" render="@all" />
		</p:calendar>
	</h:form>

<h:form>
<h:form>
       <table border="1">
       <tr>
       <ui:repeat value="#{storeView.gates}" var="gate" >
		<b:commandButton style="margin-top:20px" icon-size="1x" iconAwesome="truck"
                         value="#{gate}" onclick="ajax:storeView.switchGate(gate)"
                         look=	"info" title="icon-size='1x'" />
       </ui:repeat>
       </tr>
       </table></h:form>

</h:form>

	<h:form id="lager">
		<h:panelGrid  id="delivery" columns="2" >
			<p:dataTable class="table1" var="delivery" value="#{storeView.openDeliveries}" >
			    <p:column headerText="Ankunft" >
        			<h:outputText value="#{delivery.arrival.time}">
        			<f:convertDateTime pattern="HH:mm" timeZone="GMT+0"/>
        			</h:outputText>
    			</p:column>
    			<p:column headerText="Lieferant">
        			<h:outputText value="#{delivery.supplier}" />
   				</p:column>
			     <p:column>
					<p:commandButton  id="iconOnly"  style="color:green" icon="fa fa-share" title="OK" >
					<f:setPropertyActionListener value="#{delivery}" target="#{storeView.deliDone}" />
					</p:commandButton>
				</p:column>
       		</p:dataTable>
			<p:dataTable class="table2" var="delivery" value="#{storeView.finishedDeliveries}">
    			<p:column headerText="Lieferant">
        			<h:outputText value="#{delivery.supplier}" />
    			</p:column>   
    			<p:column headerText="Ankunft">
        			<h:outputText value="#{delivery.arrival.time}">
       				<f:convertDateTime pattern="HH:mm" timeZone="GMT+0"/>
        			</h:outputText>
    			</p:column>
    			<p:column headerText="Abfahrt">
        			<h:outputText value="#{delivery.departure.time}">
       				<f:convertDateTime pattern="HH:mm" timeZone="GMT+0"/>
        			</h:outputText>
    			</p:column>
    			<p:column headerText="Rekla">
					<p:commandButton  id="iconOnly2"  style="color:green" icon="fa fa-plus-square" title="OK" >
					<f:setPropertyActionListener value="#{delivery}" target="#{storeView.deliDone}" />
					</p:commandButton>
    			</p:column>
    			<p:column headerText="Zusatz">
					<p:commandButton  id="iconOnly3"  style="color:green" icon="fa fa-plus-square" title="OK" >
					<f:setPropertyActionListener value="#{delivery}" target="#{storeView.deliDone}" />
					</p:commandButton>
    			</p:column>
    			<p:column headerText="Ausb.">
		<b:commandButton style="margin-top:20px" icon-size="1x" iconAwesome="close"
                         onclick="ajax:storeView.cancel(delivery)"
                         look="danger" title="icon-size='1x'" />
    			</p:column>
			 </p:dataTable>
		</h:panelGrid>
	</h:form>
	</h:body>
</html>

