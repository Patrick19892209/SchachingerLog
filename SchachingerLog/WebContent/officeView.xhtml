<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>Lieferungen verwalten</title>
</h:head>
<body>
	<h:form id="form">
		<p:growl id="msgs" showDetail="true" />
		<p:dataTable id="claimsDt" var="claim" value="#{dtClaims.claims}"
			editable="true" emptyMessage="Es konnten keine Reklamationen gefunden werden, die die Kriterien erfÃ¼llen!"
			filteredValue="#{dtClaims.filteredClaims}">
			<f:facet name="header">
		Reklamationsbearbeitung
			</f:facet>
			<p:ajax event="rowEdit" listener="#{dtClaims.onRowEdit}"
				update=":form:msgs" />
			<p:ajax event="rowEditCancel" listener="#{dtClaims.onRowCancel}"
				update=":form:msgs" />
			<p:column filterBy="#{claim.aviso}" headerText="Aviso"
				footerText="contains" filterMatchMode="contains">
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{claim.aviso}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText disabled="true" id="avisoInput" value="#{claim.aviso}"/>
					</f:facet>
				</p:cellEditor>
			</p:column>
			<p:column headerText="Id">
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{claim.id}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText disabled="true" id="idInput" value="#{claim.id}" label="Id" />
					</f:facet>
				</p:cellEditor>
			</p:column>
			<p:column headerText="Datum" filterBy="#{claim.date}"
				filterMatchMode="contains">
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{claim.date}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText id="dateInput" value="#{claim.date}" label="Date"
							validatorMessage="Korrektes Datumsformat: 2017-12-31 (31. Dezember 2017).">
							<f:validateRegex pattern="20\d\d-[0-1]\d-[0-3]\d" />
						</p:inputText>
					</f:facet>
				</p:cellEditor>
			</p:column>
			<p:column headerText="Erfasser" filterBy="#{claim.creator}" filterMatchMode="contains">
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{claim.creator}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText id="erfasserInput" value="#{claim.creator}"
							label="Erfasser">
							<f:validator validatorId="model.AbbrevationValidator" />
						</p:inputText>
					</f:facet>
				</p:cellEditor>
			</p:column>
			<p:column headerText="Zugewiesen an" filterBy="#{claim.to}"
				filterMatchMode="contains">
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{claim.to}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText id="ToInput" value="#{claim.to}" label="An">
							<f:validator validatorId="model.AbbrevationValidator" />
						</p:inputText>
					</f:facet>
				</p:cellEditor>
			</p:column>
			<p:column headerText="Artikelnummer" filterBy="#{claim.productNr}"
				filterMatchMode="contains">
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{claim.productNr}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText id="artNrInput" value="#{claim.productNr}"
							label="Artikelnummer" />
					</f:facet>
				</p:cellEditor>
			</p:column>
			<p:column headerText="Mangel" filterBy="#{claim.deficiency}"
				filterMatchMode="contains">
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{claim.deficiency}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText id="mangelInput" value="#{claim.deficiency}"
							label="Mangel" />
					</f:facet>
				</p:cellEditor>
			</p:column>
			<p:column id="editColumn">
				<p:rowEditor />
			</p:column>
		</p:dataTable>
		<h3>Export Page Data Only</h3>
		<h:commandLink>
			<p:graphicImage name="/images/excel_logo.jpg" />
			<p:dataExporter type="xls" target="claimsDt" fileName="claims"
				pageOnly="true" />
		</h:commandLink>

		<!-- 

		<h:commandLink>
			<p:graphicImage name="/demo/images/pdf.png" />
			<p:dataExporter type="pdf" target="claimsDt" fileName="claims"
				pageOnly="true" />
		</h:commandLink>

		<h:commandLink>
			<p:graphicImage name="/demo/images/csv.png" />
			<p:dataExporter type="csv" target="claimsDt" fileName="claims"
				pageOnly="true" />
		</h:commandLink>

		<h:commandLink>
			<p:graphicImage name="/demo/images/xml.png" />
			<p:dataExporter type="xml" target="claimsDt" fileName="claims"
				pageOnly="true" />
		</h:commandLink>
		-->
	</h:form>
</body>
</html>